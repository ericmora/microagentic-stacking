# بيان التكديس المتناهي الصغر (THE MICROAGENTIC STACKING MANIFESTO)

> ملاحظة: تم إنشاء هذه الترجمة تلقائيًا بواسطة Gemini 3.

## من كيمياء التلقين إلى هندسة البرمجيات القابلة للتطوير


## 1. الديباجة: نهاية المنوليث (The Monolith)

نحن نشهد انهيار "هندسة التلقين" (Prompt Engineering) كنظام منفصل. لقد ثبت أن محاولة حل العمليات التجارية المعقدة من خلال تعليمة واحدة ضخمة لنموذج تأسيسي (LLM) هي استراتيجية هشة وغير متوقعة، ومن المستحيل تدقيقها على مستوى المؤسسة.

أكدت الأبحاث الأكاديمية منذ عام 2023 أن معاملة النماذج اللغوية الكبيرة (LLMs) كصناديق سوداء متجانسة للمهام المعقدة كانت طريقًا مسدودًا [7]. اليوم، تصادق مؤسسات رائدة مثل UC Berkeley على أن أحدث ما توصلت إليه التكنولوجيا لم يعد يتحقق باستخدام نماذج فردية أكبر، بل من خلال "أنظمة الذكاء الاصطناعي المركبة" التي تنسق مكونات متعددة [13]، وهو اتجاه تم التحقق منه من خلال الأنماط المعمارية الناشئة التي لوحظت في الصناعة من قبل شركات رائدة مثل a16z [15].

الذكاء الاصطناعي ليس سحرًا؛ إنه حساب احتمالي. وعلى هذا النحو، يجب أن يخضع لنفس التخصصات الهندسية التي سمحت للبرمجيات بالتوسع لعقود: الفصل، والنمطية، والعقود الصارمة. لا يكمن مستقبل الذكاء الاصطناعي في تعليمات أكبر، بل في بنية نظام أفضل [10].

نقترح تحولًا جذريًا في النموذج: التوقف عن بناء روبوتات المحادثة المتجانسة والبدء في تنسيق الهياكل المركبة.

نسمي هذا المعيار **التكديس المتناهي الصغر (Microagentic Stacking - MAS)**.


## 2. الفلسفة الأساسية

لا تسعى منهجيتنا إلى إنشاء ذكاء اصطناعي عام (AGI). إنها تسعى لبناء أنظمة مؤسسية قوية من خلال تنسيق وحدات معرفية متخصصة.

نحن نرتكز على ثلاث ركائز غير قابلة للتفاوض:

1. **العملية فوق الذكاء الاصطناعي:** الذكاء الاصطناعي لا يحدد سير العمل؛ تحدد عملية الأعمال أين وكيف يتم استخدام الذكاء الاصطناعي.
2. **الذراتية فوق العمومية:** يتم حل التعقيد المعرفي عن طريق تقسيمه إلى أصغر مكوناته غير القابلة للتجزئة.
3. **النمو التدريجي:** لا يتم تصميم الأنظمة "منتهية"؛ بل تتطور طبقة تلو الأخرى، وعملية تلو الأخرى، من منتج مبدئي بسيط إلى نظام بيئي معقد.


## 3. المبادئ الفنية لـ MAS

لتنفيذ نظام MAS، يجب الالتزام بالقوانين المعمارية التالية، الموروثة من عقود من مبادئ هندسة البرمجيات السليمة:

### I. قانون العامل المتناهي الصغر الذري (المسؤولية الفردية)

يجب أن ينفذ العامل المتناهي الصغر (Microagent) مهمة معرفية واحدة وينفذها بشكل مثالي. هذا هو التطبيق المباشر لمبدأ المسؤولية الفردية (SRP) على مكونات الذكاء الاصطناعي [2]. إذا حاول وكيل "البحث عن المعلومات وتحليلها وكتابة استجابة"، فهو مصمم بشكل سيئ. يجب تقسيمه إلى ثلاثة وكلاء متميزين.

### II. عزل الصندوق الأسود (مبدأ الصندوق الأسود)

العمل الداخلي للعامل المتناهي الصغر خاص تمامًا ولا يمكن الوصول إليه من قبل بقية النظام، باتباع مبادئ تصميم الخدمات المصغرة والسياقات المحدودة [1].

* لا يعرف المنسق (Orchestrator) ما هو الموجه (prompt) المستخدم داخليًا.
* لا يعرف المنسق النموذج الذي ينفذ المهمة (GPT-4، Claude، Llama 3 المحلي).

يسمح هذا التجريد بإعادة الهيكلة وتحسين التكلفة وتغيير النماذج داخل الوكيل دون كسر العملية العليا.

### III. الفصل الجذري والعقود (الفصل عبر المخطط)

الوكلاء المتناهي الصغر لا يعرفون بعضهم البعض. إنهم محكومون بمنهجية "التصميم بالتعاقد"، حيث تكون الشروط المسبقة واللاحقة صارمة [3].

* **عقود صارمة (Rigid Contracts):** يحدد كل وكيل بصرامة البيانات التي يقبلها (Input Schema) والبيانات التي يرجعها (Output Schema) باستخدام تنسيقات قياسية (مثل JSON Schema, Pydantic).
* **المنسق كمحول:** تقع المسؤولية الحصرية لعملية الأعمال (المنسق) على أخذ الإخراج من الوكيل A، وتحويل البيانات أو تعيينها إذا لزم الأمر، وحقنها في الوكيل B للوفاء بعقده.

### IV. تنسيق هرمي وقابل للتركيب

الوكلاء هم القطع، لكن القيمة تكمن في التجميع. لا ينبثق الذكاء المعقد من نموذج واحد، بل من تنسيق أجزاء متعددة [4].

* **عمليات تستدعي وكلاء:** ينسق سير العمل سلسلة من الوكلاء المتناهي الصغر.
* **عمليات تستدعي عمليات:** يمكن لعملية عالية المستوى استدعاء عملية أخرى وكأنها مجرد وكيل آخر، مما يسمح بتركيب تكراري لا نهائي.


## 4. اتفاقية حوكمة المؤسسة

يتطلب استقلال الذكاء الاصطناعي داخل الشركة رقابة صارمة. MAS ليس مجرد كود؛ إنه إطار للمسؤولية والقوة. أشار خبراء هندسة التعلم الآلي مرارًا وتكرارًا إلى أن الفجوة بين العرض التوضيحي والنظام في الإنتاج تكمن في الافتقار إلى الصرامة الهندسية والتقييم والتحكم في المخاطر [14]. تظهر الأدلة أن المتانة تتناقص بشكل كبير مع زيادة الاستقلالية غير الخاضعة للرقابة [8].

### 1. المساءلة الذرية (Atomic Accountability)

الا يوجد شيء اسمه "خطأ في النظام". يجب أن يحمل كل مخرج يتم إنشاؤه توقيع تتبع غير قابل للتغيير (immutable trace signature) يحدد الوكيل المصغر المحدد، وإصدار المطالبة (prompt)، والطراز الدقيق الذي قام بإنشائه لإجراء تدقيق جنائي فوري.

### 2. الثبات وتعيين الإصدار (Prompt SemVer)

المطالبة (Prompt) هي كود برمجي. يجب أن يكون خاضعًا للتحكم في الإصدار. أي تغيير في تعليمات داخلية، مهما كان صغيراً، يشكل إصداراً جديداً غير قابل للتغيير للوكيل (v1.0 -> v1.1). لا توجد تغييرات "ساخنة" في الإنتاج.

### 3. التحقق الصارم من الإدخال (فشل سريع)

نحن نعمل كرقابة جمركية صارمة. قبل أن يبدأ الوكيل في العمل، يتحقق النظام تلقائيًا من أن البيانات التي سيتلقاها تتوافق تمامًا مع عقد الإدخال الخاص به. إذا لم تتطابق البيانات بنسبة 100%، تتوقف العملية فورًا مع ظهور خطأ مرئي. نمط "الفشل السريع" (Fail Fast) هذا ضروري لاستقرار النظام الموزع [5].

### 4. الحد الأدنى من الامتياز السياقي

تخضع المعلومات لمبدأ "الحاجة إلى المعرفة". لا يتلقى أي وكيل السياق العام للعملية، فقط البيانات الضرورية تمامًا لمهمته الصغيرة. هذا أمر بالغ الأهمية، حيث ثبت أن أداء النماذج اللغوية الكبيرة يتدهور بشكل كبير عندما تغمره سياقات غير ذات صلة ("ظاهرة الضياع في المنتصف") [6].

### 5. اقتصاديات الوحدة (FinOps على المستوى الذري)

يجب أن تكون التكلفة قابلة للملاحظة لكل وحدة. يجب أن يكون النظام قادرًا على الإبلاغ عن تكلفة التنفيذ الدقيقة لكل وكيل متناهي الصغر فردي.


## 5. إطار الجودة (إطار الاختبار)

نظرًا لأن النماذج اللغوية الكبيرة احتمالية، يجب أن يكون الاختبار في MAS إحصائيًا ومتعدد المستويات.

* **المستوى 1: التقييمات الوحدوية (Unit Evals).** يجب أن يجتاز كل وكيل متناهي الصغر "مجموعة بيانات ذهبية" بحد نجاح إحصائي محدد (>95%) قبل نشره.
* **المستوى 2: اختبار العقد (التكامل).** نتحقق من أن القطع تتلاءم معًا باستخدام المحاكاة (Mocking). نضمن أن المنسق يقوم بتحويل البيانات بشكل صحيح بين الوكلاء دون الحاجة إلى تنفيذ النماذج.
* **المستوى 3: اختبار العملية (E2E).** نتحقق من أن تدفق الأعمال الكامل يلبي المتطلبات الوظيفية ووقت الاستجابة.


## 6. الأبعاد الثلاثة لقابلية التوسع

في النموذج المتجانس، يكون التوسع مكلفًا وهشًا. في MAS، تعد قابلية التوسع نتيجة طبيعية للهندسة المعمارية.

### I. قابلية التوسع الفني: "عديم الحالة حسب التصميم"

وكلاؤنا المتناهي الصغر هم وحدات تنفيذ عديمة الحالة (stateless). يسمح هذا بالنشر من معماريات بسيطة إلى أنظمة غير متزامنة قائمة على قائمة الانتظار (مدفوعة بالأحداث) لإدارة طفرات التحميل الهائلة، دون الحاجة إلى تعديل المنطق الداخلي للوكلاء.

### II. قابلية التوسع المعرفي: "فرق تسد"

نتجنب التدهور المعرفي للسياقات الطويلة [6]. لحل المشكلات الأكثر تعقيدًا، لا نقوم بتوسيع السياق؛ نضيف المزيد من الوكلاء المتخصصين إلى السلسلة. نحافظ على موثوقية ثابتة بغض النظر عن تعقيد المشكلة.

### III. قابلية التوسع التنظيمي: التطوير المعياري

نكسر عنق زجاجة التطوير. بفضل العقود الصارمة والصناديق السوداء، يمكن لفرق متعددة العمل وتحسين ونشر وكلاء متناهي الصغر مختلفين بشكل متوازٍ دون تضارب في الكود ودون إيقاف النظام البيئي.


## 7. العمارة المرجعية: محرك RFP

لإثبات متانة التكديس المتناهي الصغر في بيئة حرجة، نقوم بتحليل الهندسة المنطقية لنظام الاستجابة التلقائية لطلب الاقتراح (RFP). تتطلب هذه العملية فصلاً صارمًا بين الاستدلال (AI) وبيانات الأعمال (SQL). تتجه الصناعة نحو نماذج تدار فيها التنسيقات بواسطة آلات حالة صريحة، وليست حلقات مستقلة [9].

### المكدس المتناهي الصغر

* **المنسق (آلة الحالة):** جوهر النظام. ليس ذكاء اصطناعيًا. إنه محرك سير عمل يدير حالة المناقصة ويوجه حركة المرور بين الوكلاء وقواعد البيانات.
* **عامل متناهي الصغر A (المستخرج):** يتلقى نصًا خامًا من ملف PDF. مهمته الوحيدة هي إرجاع JSON منظم للمتطلبات الفنية. لا يبدي رأيًا، بل يستخرج فقط.
* **طبقة التكامل (القديمة):** يأخذ المنسق المعرفات التي استخرجها الوكيل A ويستعلم من نظام تخطيط موارد المؤسسات (ERP) للحصول على الأسعار والمخزون. مبدأ أساسي: الذكاء الاصطناعي لا يخترع الأسعار أبدًا.
* **عامل متناهي الصغر B (مدقق المخاطر):** يتلقى البنود القانونية. إذا اكتشف مخاطر غير مقبولة، فإنه ينشط "قاطع الدائرة" [5] ويوقف المنسق العملية قبل الصياغة.
* **عامل متناهي الصغر C (الصياغة النهائية):** ينشط فقط إذا كانت الخطوات السابقة صالحة. ينشئ الاقتراح باستخدام "البيانات النظيفة" التي يوفرها المنسق حصريًا.


## 8. الخاتمة: التطور كمعيار

التكديس المتناهي الصغر ليس حلاً ثابتًا؛ إنه منهجية للنمو المستمر. يسمح بالبدء بمنتج مبدئي بسيط والتطور إلى أنظمة بيئية معقدة، وإضافة قدرات وتحسين المكونات الفردية دون خطر التراجع. يتبنى مجتمع التطوير ككل هذا الانتقال من الكتل المتجانسة إلى سير العمل القائم على الوكلاء كنموذج جديد لترحيل عبء العمل [12].

نرفض الفوضى. نعتنق الهيكل.
**لا نبني عروضًا توضيحية. نحن نبني هندسة معمارية.**

**المؤلف الرئيسي والمشرف:** Eric Mora Juan (<ericmora82@gmail.com>)
**تاريخ النشر:** يناير 2026
هذا معيار حي. مساهمات المجتمع مرحب بها.


## المراجع

### أساسيات هندسة البرمجيات

1. Newman, S. (2021). Building Microservices: Designing Fine-Grained Systems (2nd Ed.). O'Reilly Media.
2. Martin, R. C. (2017). Clean Architecture: A Craftsman's Guide to Software Structure and Design. Prentice Hall.
3. Meyer, B. (1992). "Applying 'Design by Contract'". Computer, 25(10), 40-51. IEEE. Link: [https://ieeexplore.ieee.org/document/161279](https://ieeexplore.ieee.org/document/161279)
4. Hohpe, G., & Woolf, B. (2003). Enterprise Integration Patterns: Designing, Building, and Deploying Messaging Solutions. Addison-Wesley.
5. Nygard, M. T. (2018). Release It!: Design and Deploy Production-Ready Software (2nd Ed.). Pragmatic Bookshelf.

### أبحاث وهندسة أنظمة الذكاء الاصطناعي (أحدث ما توصلت إليه التكنولوجيا)

1. Liu, N. F., et al. (2023). "Lost in the Middle: How Language Models Use Long Contexts". arXiv preprint arXiv:2307.03172. Link: [https://arxiv.org/abs/2307.03172](https://arxiv.org/abs/2307.03172)
2. Khattab, O., et al. (Stanford NLP) (2023). "DSPy: Compiling Declarative Language Model Calls into Self-Improving Pipelines". arXiv preprint arXiv:2310.03714. Link: [https://arxiv.org/abs/2310.03714](https://arxiv.org/abs/2310.03714)
3. Wang, L., et al. (2024). "On the Robustness of Large Language Models for Agentic Tasks". arXiv preprint arXiv:2402.05818. Link: [https://arxiv.org/abs/2402.05818](https://arxiv.org/abs/2402.05818)
4. LangChain Team (2024). "LangGraph: Building Language Agents as Graphs". LangChain Blog. Link: [https://blog.langchain.dev/langgraph/](https://blog.langchain.dev/langgraph/)
5. Husain, H. (2023). "AI Engineering is the New Software Engineering". Hamel's Blog. Link: [https://hamel.dev/blog/posts/ai-eng-is-new-sw-eng/](https://hamel.dev/blog/posts/ai-eng-is-new-sw-eng/)
6. Shopify Engineering (2024). "How Shopify Uses LLMs for Commerce". Shopify Engineering Blog.
7. Daga, D. (Medium). "From Monoliths to Agentic Workflows: The New Paradigm of Workload Migration". Link: [https://medium.com/@dagadeepansh/from-monoliths-to-agentic-workflows-the-new-paradigm-of-workload-migration-6f503f3837cc](https://medium.com/@dagadeepansh/from-monoliths-to-agentic-workflows-the-new-paradigm-of-workload-migration-6f503f3837cc)
8. Berkeley Artificial Intelligence Research (BAIR) (2024). "The Shift from Models to Compound AI Systems". BAIR Blog. Link: [https://bair.berkeley.edu/blog/2024/02/18/compound-ai-systems/](https://bair.berkeley.edu/blog/2024/02/18/compound-ai-systems/)
9. Huyen, C. (2023). "Building LLM applications for production". Chip Huyen's Blog. Link: [https://huyenchip.com/2023/04/11/llm-engineering.html](https://huyenchip.com/2023/04/11/llm-engineering.html)
10. Andreessen Horowitz (a16z) (2023/2024). "Emerging Architectures for LLM Applications". a16z Technology Blog. Link: [https://a16z.com/emerging-architectures-for-llm-applications/](https://a16z.com/emerging-architectures-for-llm-applications/)

### إجماع الصناعة الأخير (2025)

1. Forrester Research (2025). "The Agentic AI Reality Check: Why Governance and Orchestration Will Define the Next Era of Enterprise Automation." (Tech Trends Report).
